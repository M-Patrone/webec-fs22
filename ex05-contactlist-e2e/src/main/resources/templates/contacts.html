<!DOCTYPE html>
<html lang="en" th:replace="fragments/page::html(~{::title},~{::main})">
<title>Contact List – Contacts</title>
<main id="contacts">
    <nav>
        <ul>
            <li th:each="entry : ${contactList}">
                <a th:href="@{/contacts/{id}(id=${entry.id})}"
                   th:class="${contact?.id == entry.id ? 'active' : ''}"
                   th:text="${entry.name}">First Last</a>
            </li>
        </ul>
    </nav>
    <div>
        <div class="info" th:if="${contact == null && #response.status != 404}">
            Select a contact on the left
        </div>
        <div class="error" th:if="${contact == null && #response.status == 404}">
            <strong>404</strong> – Contact not found
        </div>
        <div class="error" th:if="${err != null && #response.status == 400}">
            <strong>400</strong> – <span th:text="${err}"></span>
        </div>
        <div>

            <p>
            <form method="get" action="/contacts" class="searchComponent">
                <label for="searchText">Search: </label><input type="text" minlength="3"  th:value="${textToBeSearched}"
                                                               name="searchText" id="searchText">
                <input type="submit" id="subSearch" value="Search">
            </form>
            <form method="get" action="/resetsearch" class="searchComponent">
                <input type="submit" id="subClear" value="Clear">
            </form>
            </p>


        </div>
        <table th:if="${contact != null}">
            <tr th:replace="fragments/contacts::row('First name',${contact.firstName})"></tr>
            <tr th:replace="fragments/contacts::row('Last name',${contact.lastName})"></tr>
            <tr th:replace="fragments/contacts::listRow('Email addresses',${contact.email})"></tr>
            <tr th:replace="fragments/contacts::listRow('Phone numbers',${contact.phone})"></tr>
            <tr th:replace="fragments/contacts::row('Job title',${contact.jobTitle})"></tr>
            <tr th:replace="fragments/contacts::row('Company',${contact.company})"></tr>
        </table>
    </div>
</main>
</html>
